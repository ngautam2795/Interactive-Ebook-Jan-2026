@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&family=Fredoka:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Warm & Friendly Educational Color Palette */
        --background: 32 100% 98%;
        --foreground: 25 30% 18%;
        
        /* Primary - Warm Coral Orange */
        --primary: 16 85% 58%;
        --primary-foreground: 0 0% 100%;
        --primary-glow: 16 85% 68%;
        --primary-muted: 16 65% 88%;
        
        /* Secondary - Soft Knowledge Green */
        --secondary: 142 52% 52%;
        --secondary-foreground: 0 0% 100%;
        --secondary-muted: 142 45% 92%;
        
        /* Accent - Curiosity Coral */
        --accent: 28 90% 62%;
        --accent-foreground: 25 30% 15%;
        --accent-muted: 28 80% 94%;
        
        /* Cards & Surfaces */
        --card: 0 0% 100%;
        --card-foreground: 25 30% 18%;
        --card-elevated: 35 100% 99%;
        
        --popover: 0 0% 100%;
        --popover-foreground: 25 30% 18%;
        
        /* Muted tones */
        --muted: 35 40% 94%;
        --muted-foreground: 25 15% 45%;
        
        /* State colors */
        --destructive: 0 72% 55%;
        --destructive-foreground: 0 0% 100%;
        --success: 142 52% 48%;
        --success-foreground: 0 0% 100%;
        --warning: 38 92% 55%;
        --warning-foreground: 25 30% 15%;
        
        /* UI Elements */
        --border: 32 30% 88%;
        --input: 32 30% 92%;
        --ring: 16 85% 58%;
        
        /* Educational Subject Colors */
        --science: 142 52% 52%;
        --history: 28 75% 55%;
        --math: 220 70% 55%;
        
        /* Hotspot Colors */
        --hotspot: 16 85% 58%;
        --hotspot-glow: 16 100% 70%;
        --hotspot-pulse: 28 90% 65%;
        
        /* Gradients */
        --gradient-warm: linear-gradient(135deg, hsl(16 85% 58%), hsl(28 90% 62%));
        --gradient-nature: linear-gradient(135deg, hsl(142 52% 52%), hsl(165 55% 55%));
        --gradient-learning: linear-gradient(135deg, hsl(32 100% 97%), hsl(35 50% 95%));
        --gradient-page: linear-gradient(180deg, hsl(35 100% 99%), hsl(32 80% 96%));
        
        /* Shadows */
        --shadow-soft: 0 4px 20px -4px hsl(25 30% 18% / 0.08);
        --shadow-medium: 0 8px 30px -6px hsl(25 30% 18% / 0.12);
        --shadow-elevated: 0 20px 50px -12px hsl(25 30% 18% / 0.18);
        --shadow-glow: 0 0 40px hsl(16 85% 58% / 0.25);
        --shadow-hotspot: 0 0 20px hsl(16 100% 65% / 0.5);
        
        /* Animations */
        --transition-smooth: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        --transition-bounce: 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        --transition-spring: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        
        --radius: 0.75rem;
        --radius-lg: 1rem;
        --radius-xl: 1.5rem;
    }
    
    .dark {
        --background: 25 25% 8%;
        --foreground: 35 30% 95%;
        
        --primary: 16 85% 58%;
        --primary-foreground: 0 0% 100%;
        --primary-glow: 16 90% 65%;
        --primary-muted: 16 40% 20%;
        
        --secondary: 142 45% 45%;
        --secondary-foreground: 0 0% 100%;
        --secondary-muted: 142 30% 15%;
        
        --accent: 28 85% 58%;
        --accent-foreground: 0 0% 100%;
        --accent-muted: 28 40% 18%;
        
        --card: 25 20% 12%;
        --card-foreground: 35 30% 95%;
        --card-elevated: 25 18% 15%;
        
        --popover: 25 20% 12%;
        --popover-foreground: 35 30% 95%;
        
        --muted: 25 15% 18%;
        --muted-foreground: 35 20% 60%;
        
        --destructive: 0 62% 45%;
        --destructive-foreground: 0 0% 100%;
        
        --border: 25 15% 20%;
        --input: 25 15% 18%;
        --ring: 16 85% 58%;
        
        --shadow-soft: 0 4px 20px -4px hsl(0 0% 0% / 0.3);
        --shadow-medium: 0 8px 30px -6px hsl(0 0% 0% / 0.4);
        --shadow-elevated: 0 20px 50px -12px hsl(0 0% 0% / 0.5);
    }
}

@layer base {
    * {
        @apply border-border;
    }
    
    html {
        scroll-behavior: smooth;
        -webkit-tap-highlight-color: transparent;
    }
    
    body {
        @apply bg-background text-foreground antialiased;
        font-family: 'Nunito', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    
    h1, h2, h3, h4, h5, h6 {
        font-family: 'Fredoka', 'Nunito', sans-serif;
    }
}

@layer components {
    /* Interactive Page Container */
    .page-container {
        @apply relative w-full min-h-screen overflow-hidden;
        background: var(--gradient-page);
    }
    
    /* Hotspot Styles */
    .hotspot {
        @apply absolute cursor-pointer z-10;
        animation: hotspot-pulse 2s ease-in-out infinite;
    }
    
    .hotspot-marker {
        @apply w-10 h-10 rounded-full flex items-center justify-center;
        background: var(--gradient-warm);
        box-shadow: var(--shadow-hotspot);
    }
    
    .hotspot-ring {
        @apply absolute inset-0 rounded-full;
        animation: hotspot-ring 2s ease-out infinite;
    }
    
    /* Swipe Container */
    .swipe-container {
        @apply relative overflow-hidden;
        touch-action: pan-y pinch-zoom;
    }
    
    /* Content Card Styles */
    .content-card {
        @apply rounded-xl p-4 sm:p-6;
        background: hsl(var(--card));
        box-shadow: var(--shadow-medium);
    }
    
    .content-card-elevated {
        @apply rounded-2xl p-6;
        background: hsl(var(--card-elevated));
        box-shadow: var(--shadow-elevated);
    }
    
    /* Progress Bar */
    .progress-track {
        @apply h-1.5 rounded-full overflow-hidden;
        background: hsl(var(--muted));
    }
    
    .progress-fill {
        @apply h-full rounded-full;
        background: var(--gradient-warm);
        transition: width var(--transition-smooth);
    }
    
    /* Chapter Badge */
    .chapter-badge {
        @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-semibold;
        background: hsl(var(--primary-muted));
        color: hsl(var(--primary));
    }
    
    .chapter-badge-science {
        background: hsl(var(--secondary-muted));
        color: hsl(var(--secondary));
    }
    
    .chapter-badge-history {
        background: hsl(var(--accent-muted));
        color: hsl(var(--accent));
    }
    
    /* Illustration Container */
    .illustration-container {
        @apply relative w-full rounded-2xl overflow-hidden;
        aspect-ratio: 16/10;
        box-shadow: var(--shadow-elevated);
    }
    
    .illustration-overlay {
        @apply absolute inset-0;
        background: linear-gradient(180deg, transparent 60%, hsl(var(--background) / 0.1) 100%);
    }
    
    /* Modal Backdrop */
    .modal-backdrop {
        @apply fixed inset-0 z-50;
        background: hsl(var(--foreground) / 0.6);
        backdrop-filter: blur(8px);
    }
    
    /* Touch-friendly */
    .touch-target {
        @apply min-h-[44px] min-w-[44px];
    }
}

@layer utilities {
    /* Glassmorphism */
    .glass {
        @apply backdrop-blur-md;
        background: hsl(var(--card) / 0.8);
    }
    
    .glass-subtle {
        @apply backdrop-blur-sm;
        background: hsl(var(--card) / 0.6);
    }
    
    /* Text gradients - using dark colors for contrast */
    .text-gradient-warm {
        @apply bg-clip-text text-transparent;
        background-image: linear-gradient(135deg, hsl(16 85% 45%), hsl(28 75% 40%));
    }
    
    .text-gradient-nature {
        @apply bg-clip-text text-transparent;
        background-image: linear-gradient(135deg, hsl(142 52% 42%), hsl(165 55% 38%));
    }
    
    /* Glow effects */
    .glow-primary {
        box-shadow: 0 0 30px hsl(var(--primary) / 0.3);
    }
    
    .glow-secondary {
        box-shadow: 0 0 30px hsl(var(--secondary) / 0.3);
    }
    
    /* Safe area for mobile */
    .safe-bottom {
        padding-bottom: env(safe-area-inset-bottom, 20px);
    }
    
    .safe-top {
        padding-top: env(safe-area-inset-top, 20px);
    }
    
    /* Hide scrollbar but keep functionality */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
    
    /* Touch manipulation */
    .touch-pan-x {
        touch-action: pan-x;
    }
    
    .touch-pan-y {
        touch-action: pan-y;
    }
}

/* Animations */
@keyframes hotspot-pulse {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.08);
        opacity: 0.9;
    }
}

@keyframes hotspot-ring {
    0% {
        transform: scale(1);
        opacity: 0.6;
        box-shadow: 0 0 0 0 hsl(var(--hotspot) / 0.4);
    }
    100% {
        transform: scale(1.8);
        opacity: 0;
        box-shadow: 0 0 0 15px hsl(var(--hotspot) / 0);
    }
}

@keyframes float {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-8px);
    }
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

@keyframes fade-in-up {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes scale-in {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes flow {
    0%, 100% {
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dashoffset: 20;
    }
}

.animate-float {
    animation: float 3s ease-in-out infinite;
}

.animate-shimmer {
    animation: shimmer 2s linear infinite;
    background-size: 200% 100%;
}

.animate-fade-in-up {
    animation: fade-in-up 0.5s ease-out forwards;
}

.animate-scale-in {
    animation: scale-in 0.3s ease-out forwards;
}

.animate-flow {
    animation: flow 2s ease-in-out infinite;
}

/* Debug wrapper styles */
@layer base {
    [data-debug-wrapper="true"] {
        display: contents !important;
    }

    [data-debug-wrapper="true"] > * {
        margin-left: inherit;
        margin-right: inherit;
        margin-top: inherit;
        margin-bottom: inherit;
        padding-left: inherit;
        padding-right: inherit;
        padding-top: inherit;
        padding-bottom: inherit;
        column-gap: inherit;
        row-gap: inherit;
        gap: inherit;
        border-left-width: inherit;
        border-right-width: inherit;
        border-top-width: inherit;
        border-bottom-width: inherit;
        border-left-style: inherit;
        border-right-style: inherit;
        border-top-style: inherit;
        border-bottom-style: inherit;
        border-left-color: inherit;
        border-right-color: inherit;
        border-top-color: inherit;
        border-bottom-color: inherit;
    }
}
